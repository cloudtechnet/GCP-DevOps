# Subnets & CIDR

In **Google Cloud Platform (GCP)**, **Subnets** and **CIDR** are used to define how IP addresses are allocated inside a VPC network.

They control:

* How many resources you can create
* How traffic is segmented
* Network organization and security

---

# 1️⃣ What Is a Subnet?

A **Subnet (Subnetwork)** is a **range of IP addresses inside a VPC** where you deploy resources like:

* Virtual Machines
* Load Balancers
* Managed services

In GCP:

* VPC is global
* Subnets are **regional**

Example:
You create a subnet in `us-central1`
Only resources in that region can use its IP range.

---

# 2️⃣ What Is CIDR?

**CIDR (Classless Inter-Domain Routing)** defines the **IP address range** of a subnet.

It uses this format:

```
IP_ADDRESS/Prefix
```

Example:

```
10.0.0.0/24
```

* `10.0.0.0` → Starting IP
* `/24` → Network size

---

# 3️⃣ How CIDR Works (Simple Explanation)

The number after `/` determines how many IPs are available.

| CIDR | Total IPs  |
| ---- | ---------- |
| /24  | 256 IPs    |
| /23  | 512 IPs    |
| /22  | 1024 IPs   |
| /16  | 65,536 IPs |

Smaller number after `/` → Larger network

Example:

* `/16` → Large network
* `/24` → Smaller network

---

# 4️⃣ Real-World Example

Company creates:

VPC: `10.0.0.0/16`

Subnets:

* `10.0.1.0/24` → Web servers (us-central1)
* `10.0.2.0/24` → App servers (us-central1)
* `10.0.3.0/24` → Database (us-east1)

Each subnet isolates workload traffic.

---

# 5️⃣ Why Subnets Are Important

✔ Organize network logically
✔ Separate environments (Dev/Test/Prod)
✔ Apply firewall rules effectively
✔ Improve security

---

# 6️⃣ Common CIDR Design Strategy

Example production design:

* Dev → 10.10.0.0/24
* Test → 10.20.0.0/24
* Prod → 10.30.0.0/22

Plan IP ranges early to avoid overlap.

---

# 7️⃣ Important Rules

* Subnets cannot overlap within same VPC
* CIDR must be unique
* Primary IP range required
* Secondary IP ranges used for GKE

---

# ✅ In Simple Words

* Subnet = Division of VPC network
* CIDR = IP range size definition
* `/24` = 256 IPs
* `/16` = Large network

