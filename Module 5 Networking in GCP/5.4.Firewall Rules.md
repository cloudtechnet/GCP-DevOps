# Firewall Rules (GCP)

In **Google Cloud Platform (GCP)**, **Firewall Rules** are used to control **network traffic** inside a VPC network. They determine which traffic is allowed or denied to your cloud resources such as virtual machines.

In simple terms:

üëâ **Firewall rules act as a security gate for your VMs.**

---

## 1Ô∏è‚É£ What Are Firewall Rules?

Firewall rules are:

* Defined at the **VPC level**
* Applied to VM instances
* Used to control traffic based on:

  * Direction (Ingress / Egress)
  * Protocol (TCP, UDP, ICMP)
  * Port numbers
  * Source or destination IP ranges
  * Target instances (via tags or service accounts)

They are **stateful**, meaning if inbound traffic is allowed, return traffic is automatically allowed.

---

## 2Ô∏è‚É£ Types of Firewall Rules

### üîπ Ingress Rules (Incoming Traffic)

Control traffic coming **into** your VM.

Example:

* Allow SSH (TCP 22) from your office IP
* Allow HTTP (TCP 80) from the internet

---

### üîπ Egress Rules (Outgoing Traffic)

Control traffic going **out** from your VM.

Example:

* Allow VM to access external APIs
* Block internet access from database servers

---

## 3Ô∏è‚É£ Key Components of a Firewall Rule

| Component          | Description                                            |
| ------------------ | ------------------------------------------------------ |
| Direction          | Ingress or Egress                                      |
| Action             | Allow or Deny                                          |
| Protocol           | TCP, UDP, ICMP                                         |
| Ports              | Specific port numbers                                  |
| Source/Destination | IP ranges (e.g., 0.0.0.0/0)                            |
| Target             | Network tag or service account                         |
| Priority           | Rule evaluation order (lower number = higher priority) |

---

## 4Ô∏è‚É£ How Firewall Rules Work

* Evaluated by **priority**
* Lowest number has highest priority
* First matching rule is applied
* If no rule matches, traffic is denied (for ingress)

---

## 5Ô∏è‚É£ Real-World Example

3-Tier Web Application:

* Web server:

  * Allow HTTP (80) and HTTPS (443) from internet
* App server:

  * Allow traffic only from Web server
* Database server:

  * Allow traffic only from App server
  * No internet access

This layered firewall setup increases security.

---

## 6Ô∏è‚É£ Why Firewall Rules Are Important

‚úî Protect VMs from unauthorized access
‚úî Control internal communication
‚úî Enforce security policies
‚úî Required for production environments

---

## 7Ô∏è‚É£ Best Practices

* Avoid `0.0.0.0/0` unless necessary
* Restrict SSH/RDP access to specific IPs
* Use network tags for better control
* Follow least privilege principle
* Monitor logs regularly

---

## ‚úÖ In Simple Words

* Firewall rules control who can access your VMs
* Ingress = Incoming
* Egress = Outgoing
* Rules protect your cloud network

