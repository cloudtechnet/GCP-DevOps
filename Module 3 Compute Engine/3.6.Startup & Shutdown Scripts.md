## Startup & Shutdown Scripts

In **Google Cloud Platform (GCP)**, **Startup and Shutdown Scripts** are used to **automate tasks on virtual machines** during **boot** and **shutdown** events. They help configure systems automatically without manual intervention.

---

## 1️⃣ Startup Scripts

A **Startup Script** runs **automatically when a VM starts or restarts**.

### Key Points:

* Executes during VM boot process
* Runs with **root/administrator privileges**
* Can be written in **Bash (Linux)** or **PowerShell (Windows)**
* Defined using **instance or project metadata**
* Runs every time the VM starts

### Common Use Cases:

* Install software packages
* Configure services (Apache, Nginx, Docker, etc.)
* Pull code from Git repositories
* Register VM with monitoring or configuration tools

---

## 2️⃣ Shutdown Scripts

A **Shutdown Script** runs **when a VM is stopped, restarted, or deleted**.

### Key Points:

* Executes before the VM shuts down
* Used for **graceful cleanup**
* Helps prevent data corruption
* Defined via instance metadata

### Common Use Cases:

* Stop applications safely
* Backup logs or data
* Deregister VM from load balancers
* Notify monitoring systems

---

## 3️⃣ Where Scripts Are Defined

Scripts are stored as:

* **Metadata key-value pairs**
* Can be set at:

  * Project level (applies to all VMs)
  * Instance level (applies to specific VM)

Instance-level metadata **overrides** project-level metadata.

---

## 4️⃣ Execution Behavior

* Startup scripts run **every boot**
* If the script fails, VM still starts
* Logs are written to system logs
* Scripts are executed only once per event (boot/shutdown)

---

## 5️⃣ Why Use Startup & Shutdown Scripts?

* Automate VM configuration
* Ensure consistency across environments
* Reduce manual setup effort
* Essential for DevOps and auto-scaling scenarios

---

## 6️⃣ Limitations & Best Practices

* Keep scripts idempotent
* Avoid long-running tasks
* Log script output for debugging
* Use configuration tools for complex setups

---

## ✅ In Simple Words

* **Startup scripts** automate tasks when VM starts
* **Shutdown scripts** handle cleanup when VM stops
* They enable **hands-free VM automation** in GCP


